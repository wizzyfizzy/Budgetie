# üìê Tuist Setup for Budgetie

> Manage scalable iOS project structure with modular architecture using [Tuist](https://tuist.io/)

---

## üß† What is Tuist?

Tuist is an open-source tool that helps developers **define, maintain, and scale Xcode projects** using Swift. Instead of manually managing `.xcodeproj` or `.xcworkspace` files, Tuist lets you define your project structure in code (`Project.swift`), then generate it on demand.

---

## ‚ùì Why use Tuist in Budgetie?

Budgetie follows **modular architecture**, with isolated features (like `Auth`, `Transactions`, etc.) living in separate modules. Tuist enables us to:

- ‚öôÔ∏è Define **targets, settings, dependencies** in Swift
- üß± Modularize the project cleanly
- üóÇ Avoid committing `.xcodeproj` and `.xcworkspace`
- üß™ Keep test targets clean and isolated
- üß© Support **local + remote Swift packages**
- üöÄ Make onboarding and CI fast and reliable

---

## üì¶ How to Install Tuist

Make sure you have [Homebrew](https://brew.sh) installed, then run:

```bash
brew install tuist
```

---

## üß± Project Structure with Tuist

```
ios/
‚îú‚îÄ‚îÄ Project.swift             # Defines the project (targets, dependencies, etc.)
‚îú‚îÄ‚îÄ BudgetieApp/              # Main app target
‚îÇ   ‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ Resources/
‚îÇ   ‚îî‚îÄ‚îÄ Info.plist
‚îú‚îÄ‚îÄ Modules/
‚îÇ   ‚îú‚îÄ‚îÄ Core
‚îÇ   ‚îú‚îÄ‚îÄ Features
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Auth/               
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Info.plist
‚îÇ   ‚îú‚îÄ‚îÄ Shared
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIComponents/               
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sources/
‚îú‚îÄ‚îÄ Tests/
‚îÇ   ‚îî‚îÄ‚îÄ BudgetieAppTests/
‚îî‚îÄ‚îÄ Tuist.swift               # Global Tuist Configuration 
```

- `Project.swift`: Main configuration file defining the app and module targets.
- `Tuist.swift`: Global Tuist setup (e.g., compatible Xcode versions)

---

## ‚öôÔ∏è What Was Added to Tuist Configuration?

### ‚úÖ Global Configuration
```
import ProjectDescription

let config = Tuist(
    project: .tuist(
        compatibleXcodeVersions: .all
    )
)
```
Allows all Xcode versions to be compatible with this project. To restrict versions use:

```
compatibleXcodeVersions: [.exact("15.3")]
```

---

### ‚úÖ Packages
Declared in `Project.swift`:

```swift
let projectPackages: [Package] = [
    .remote(url: "https://github.com/airbnb/lottie-spm", requirement: .exact("4.5.2")),
    .local(path: "Modules/Features/Auth"),
    .local(path: "Modules/Shared/UIComponents")
]
```
Supports both local module-based packages and remote Swift Package Manager dependencies.

---

### ‚úÖ App Target Configuration
To keep things clean, target configuration was abstracted with a helper:

```swift
extension Target {
    static func appTarget(...) -> Target { ... }
}
```
This improves readability and reusability across the project.

---

### ‚úÖ FileHeaderTemplate
Custom file headers for autogenerated files:

```swift
FileHeaderTemplate.string("""
  //
  //  Copyright ¬© 2025 Budgetie
  //  All rights reserved.
  //
""")
```

---

### üßº ‚úÖ SwiftLint Integration
SwiftLint is integrated as a build script phase, configured in Tuist:

```swift
let swiftLintScript = TargetScript.pre(
    script: """
    if which swiftlint >/dev/null; then
      echo "SRCROOT is: ${SRCROOT}"
      cd "${SRCROOT}/../" || exit  # move to ios/
      swiftlint lint
    else
      echo "warning: SwiftLint not installed. Download from https://github.com/realm/SwiftLint"
    fi
    """,
    name: "SwiftLint"
)
```

This script automatically runs SwiftLint when building the app.

---

### ‚ú® App target includes SwiftLint script:

```swift
public extension Target {
    static func appTarget(name: String,
                          bundleId: String,
                          plist: String,
                          sources: String,
                          resources: String) -> Target {
        target(name: name,
               destinations: [.iPhone],
               product: .app,
               bundleId: bundleId,
               deploymentTargets: .iOS("16.0"),
               infoPlist: .init(stringLiteral: plist),
               sources: .init(stringLiteral: sources),
               resources: .init(stringLiteral: resources),
               scripts: [swiftLintScript])
    }
}
```

---

## ‚ñ∂Ô∏è How to Build & Run the App
In the root of the `ios/` folder:

### 1. Install Tuist if you haven‚Äôt already

```bash
brew install tuist
tuist install
```

### 2. Generate the project

```bash
tuist generate
```

### 3. Open the workspace

```bash
open Budgetie.xcworkspace
```

### 4. Run the app via Xcode (select device/simulator)


---
